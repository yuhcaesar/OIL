
startOrRestartTomCat.sh,0

Makefile,0

monitor-20180725.sql,0

autoRestartMysql.sh,0

monitor-20180731卢春江.sql,0

include/socketUse.h,953
#define __socketUse_H__ __socketUse_H__2,28
#define CONNECT_NUM CONNECT_NUM14,248
#define MAX_NUM MAX_NUM15,270
#define PORT PORT18,304
#define PORT PORT20,329
class socketControllersocketController26,379
    void InitTheSocketModule(int port)InitTheSocketModule29,412
    void sendInformation(int clientSock,string information)sendInformation35,533
    string getInformation(int clientSock)getInformation59,1345
    int acceptSocket()acceptSocket102,2635
    void closeClient(int clientSock)closeClient106,2715
    void closeServer()closeServer110,2791
    struct sockaddr_in serverAddr;serverAddr119,2866
    int port  = PORT;port120,2901
    int maxNumber =100;maxNumber121,2923
    int connectNumber = 5;connectNumber122,2947
    int serverSock=-1;serverSock123,2974
    int clientSock=-1;clientSock124,2997
    bool isStarted = false;isStarted125,3020
    void startTheServer(int port)startTheServer127,3049

include/downParam.h,1184
#define __downParam_H____downParam_H__2,24
#define DOWN_PARAM_HEADER DOWN_PARAM_HEADER4,49
#define DOWN_PARAM_VID DOWN_PARAM_VID5,79
#define DOWN_PARAM_PID DOWN_PARAM_PID6,106
#define DOWN_PARAM_DID DOWN_PARAM_DID7,134
#define DOWN_PARAM_BIGHEAD DOWN_PARAM_BIGHEAD8,163
#define DOWN_PARAM_OPERATION1 DOWN_PARAM_OPERATION110,196
#define DOWN_PARAM_OPERATION2 DOWN_PARAM_OPERATION211,231
#define DOWN_PARAM_LENGTH DOWN_PARAM_LENGTH12,266
#define DOWN_PARAM_DATA01 DOWN_PARAM_DATA0113,297
#define DOWN_PARAM_DATA02 DOWN_PARAM_DATA0214,330
#define DOWN_PARAM_DATA03 DOWN_PARAM_DATA0315,363
#define DOWN_PARAM_DATA04 DOWN_PARAM_DATA0416,396
#define DOWN_PARAM_DATA05 DOWN_PARAM_DATA0517,429
#define DOWN_PARAM_DATA06 DOWN_PARAM_DATA0618,462
#define DOWN_PARAM_DATA07 DOWN_PARAM_DATA0719,495
#define DOWN_PARAM_DATA08 DOWN_PARAM_DATA0820,528
#define DOWN_PARAM_DATA09 DOWN_PARAM_DATA0921,561
#define DOWN_PARAM_DATA10 DOWN_PARAM_DATA1022,594
#define DOWN_PARAM_DATA11 DOWN_PARAM_DATA1123,627
#define DOWN_PARAM_DATA12 DOWN_PARAM_DATA1224,660
#define DOWN_PARAM_DATA13 DOWN_PARAM_DATA1325,693
#define DOWN_PARAM_TRAILER(DOWN_PARAM_TRAILER26,726

include/dataBaseUse.h,754
#define __dataBaseUse_H__ __dataBaseUse_H__2,30
class DBControllerDBController12,163
    void InitTheDBModule( string hostIP,string user,string password,string database) InitTheDBModule16,193
    void reStart()reStart42,984
    void DBQuery(string sql)DBQuery59,1454
    string strDBSelectItem(string sql)strDBSelectItem89,2247
    void DBclose()DBclose122,3297
    MYSQL connection;connection127,3377
    const char* IpSave ;IpSave128,3399
    const char* userSave ;userSave129,3424
    const char* passwordSave ;passwordSave131,3452
    const char* databaseSave ;databaseSave132,3483
    string strIp;strIp133,3514
    string strUser;strUser134,3532
    string strPasswd;strPasswd135,3552
    string strDb;strDb136,3574

include/protocolUse.h,1253
#define __protocolUse_H____protocolUse_H__2,26
const string LoginEvent = "30";LoginEvent11,206
const string ExitEvent = "31";ExitEvent12,238
const string UpIntervalEvent = "35";UpIntervalEvent13,269
const string UpParamEvent = "3d";UpParamEvent14,306
const string OnDataEvent = "43";OnDataEvent15,340
const string OffDataEvent = "44";OffDataEvent16,373
const string AssistDataEvent = "45";AssistDataEvent17,407
const string InfoEndFlag = "55";InfoEndFlag19,445
const string InfoNoEndFlag = "aa";InfoNoEndFlag20,478
const string Header = "21233c3c";Header22,514
const string Tailer = "3e3e";Tailer23,548
const short LenHead = 8;LenHead24,578
const short LenTail = 4;LenTail25,603
const short LenLength = 4;LenLength26,628
const short IdxOp2 = 42; // op2's index in an info messageIdxOp227,655
const short IdxOp3 = 44; // op3's indexIdxOp328,714
const short IdxLen_O = 44; // Ordinary package LENTH indexIdxLen_O29,754
const short IdxLen_D = 46; // Data package LENTH indexIdxLen_D30,813
class protocolUseprotocolUse32,869
    DBController theDBC;theDBC40,1067
    bool isIntervalUpdated = false;isIntervalUpdated57,1887
    bool isInfoEnd = false;isInfoEnd58,1923
    string strInterval;strInterval59,1951

include/onData.h,632
#define __onData_H____onData_H__2,21
#define ON_DATA_HEADER ON_DATA_HEADER4,43
#define ON_DATA_VID ON_DATA_VID5,70
#define ON_DATA_PID ON_DATA_PID6,94
#define ON_DATA_DID ON_DATA_DID7,119
#define ON_DATA_OPERATION1 ON_DATA_OPERATION18,145
#define ON_DATA_OPERATION2 ON_DATA_OPERATION29,177
#define ON_DATA_OPERATION3 ON_DATA_OPERATION310,209
#define ON_DATA_LENGTH ON_DATA_LENGTH11,241
#define ON_DATA_DATA01 ON_DATA_DATA0113,270
#define ON_DATA_DATA02 ON_DATA_DATA0214,298
#define ON_DATA_DATA03 ON_DATA_DATA0315,326
#define ON_DATA_DATA_(ON_DATA_DATA_16,354
#define ON_DATA_TAILER(ON_DATA_TAILER18,393

include/param.h,1868
#define __param_H____param_H__2,20
const int MaxDepolLen = 6000000; // 10 * 60 * 1000msMaxDepolLen7,95
const int PreDepolLen = 120000; // 2 * 60 * 1000msPreDepolLen8,148
const int RearDepolInterval = 30000; // 30 *1000msRearDepolInterval9,199
class CParamCParam10,250
        static CParam* m_pInstance;m_pInstance14,292
        int m_OnSampleInterval = 20;m_OnSampleInterval16,329
        int m_OffSampleInterval = 12;m_OffSampleInterval17,366
        int m_OffLatency = 500;m_OffLatency18,404
        int m_DepolInterval = 1000;m_DepolInterval19,436
        int m_PolInterval = 30;m_PolInterval20,472
        int m_AsynInterval = 30;m_AsynInterval21,504
        int m_AssiInterval = 2;m_AssiInterval22,537
        int m_StabCount = 3;m_StabCount23,569
        int m_StabErr = 10;m_StabErr24,598
        int m_TiggThreshold = -850;m_TiggThreshold25,626
        int m_OnMeasureOpt = 1;m_OnMeasureOpt26,662
        int m_OffMeasureOpt = 1;m_OffMeasureOpt27,694
        int m_RangeOpt = 1;m_RangeOpt28,727
        float m_dcPotentialK = 0.00077936;m_dcPotentialK30,756
        float m_dcPotentialB = -25.53793;m_dcPotentialB31,799
        float m_acPotentialK = 0.00079597;m_acPotentialK32,841
        float m_acPotentialB = -26.08252;m_acPotentialB33,884
        float m_acHiCurrentK = 0.009270;m_acHiCurrentK34,926
        float m_acHiCurrentB = -303.686;m_acHiCurrentB35,967
        float m_dcHiCurrentK = 0.009270;m_dcHiCurrentK36,1008
        float m_dcHiCurrentB = -303.686;m_dcHiCurrentB37,1049
        float m_acLoCurrentK = 0.001850;m_acLoCurrentK38,1090
        float m_acLoCurrentB = -60.7370;m_acLoCurrentB39,1131
        float m_dcLoCurrentK = 0.001850;m_dcLoCurrentK40,1172
        float m_dcLoCurrentB = -60.737;m_dcLoCurrentB41,1213
static map<string, CParam> ParamArray;ParamArray102,3127

include/jsonreader.h,33
class JsonReaderJsonReader6,68

include/upParam.h,1036
#define __upParam_H____upParam_H__2,22
#define UP_PARAM_HEADER UP_PARAM_HEADER4,45
#define UP_PARAM_VID UP_PARAM_VID5,73
#define UP_PARAM_PID UP_PARAM_PID6,98
#define UP_PARAM_DID UP_PARAM_DID7,124
#define UP_PARAM_OPERATION1 UP_PARAM_OPERATION18,151
#define UP_PARAM_OPERATION2 UP_PARAM_OPERATION29,184
#define UP_PARAM_LENGTH UP_PARAM_LENGTH10,217
#define UP_PARAM_DATA01 UP_PARAM_DATA0111,246
#define UP_PARAM_DATA02 UP_PARAM_DATA0212,275
#define UP_PARAM_DATA03 UP_PARAM_DATA0313,304
#define UP_PARAM_DATA04 UP_PARAM_DATA0414,333
#define UP_PARAM_DATA05 UP_PARAM_DATA0515,362
#define UP_PARAM_DATA06 UP_PARAM_DATA0616,391
#define UP_PARAM_DATA07 UP_PARAM_DATA0717,420
#define UP_PARAM_DATA08 UP_PARAM_DATA0818,449
#define UP_PARAM_DATA09 UP_PARAM_DATA0919,479
#define UP_PARAM_DATA10 UP_PARAM_DATA1020,509
#define UP_PARAM_DATA11 UP_PARAM_DATA1121,539
#define UP_PARAM_DATA12 UP_PARAM_DATA1222,569
#define UP_PARAM_DATA(UP_PARAM_DATA23,599
#define UP_PARAM_TRAILER(UP_PARAM_TRAILER24,637

include/offData.h,668
#define __offData_H____offData_H__2,22
#define OFF_DATA_HEADER OFF_DATA_HEADER4,45
#define OFF_DATA_VID OFF_DATA_VID5,73
#define OFF_DATA_PID OFF_DATA_PID6,98
#define OFF_DATA_DID OFF_DATA_DID7,124
#define OFF_DATA_OPERATIOFF1 OFF_DATA_OPERATIOFF18,151
#define OFF_DATA_OPERATIOFF2 OFF_DATA_OPERATIOFF29,185
#define OFF_DATA_OPERATIOFF3 OFF_DATA_OPERATIOFF310,219
#define OFF_DATA_LENGTH OFF_DATA_LENGTH11,253
#define OFF_DATA_DATA01 OFF_DATA_DATA0113,283
#define OFF_DATA_DATA02 OFF_DATA_DATA0214,312
#define OFF_DATA_DATA03 OFF_DATA_DATA0315,341
#define OFF_DATA_DATA_(OFF_DATA_DATA_16,370
#define OFF_DATA_TRAILER(OFF_DATA_TRAILER18,410

include/assistData.h,771
#define __assistData_H____assistData_H__2,25
#define ASSIST_DATA_HEADER ASSIST_DATA_HEADER4,51
#define ASSIST_DATA_VID ASSIST_DATA_VID5,82
#define ASSIST_DATA_PID ASSIST_DATA_PID6,110
#define ASSIST_DATA_DID ASSIST_DATA_DID7,139
#define ASSIST_DATA_OPERATIASSIST1 ASSIST_DATA_OPERATIASSIST18,169
#define ASSIST_DATA_OPERATIASSIST2 ASSIST_DATA_OPERATIASSIST29,209
#define ASSIST_DATA_OPERATIASSIST3 ASSIST_DATA_OPERATIASSIST310,249
#define ASSIST_DATA_LENGTH ASSIST_DATA_LENGTH11,289
#define ASSIST_DATA_DATA01 ASSIST_DATA_DATA0113,322
#define ASSIST_DATA_DATA02 ASSIST_DATA_DATA0214,354
#define ASSIST_DATA_DATA03 ASSIST_DATA_DATA0315,386
#define ASSIST_DATA_DATA_(ASSIST_DATA_DATA_16,418
#define ASSIST_DATA_TRAILER(ASSIST_DATA_TRAILER18,461

include/operate.h,69
#define __operate_H____operate_H__2,22
#define LOGMOD LOGMOD7,78

include/upInterval.h,1231
#define __upInterval_H____upInterval_H__2,25
#define UP_INTERVAL_HEADER UP_INTERVAL_HEADER4,51
#define UP_INTERVAL_VID UP_INTERVAL_VID5,82
#define UP_INTERVAL_PID UP_INTERVAL_PID6,110
#define UP_INTERVAL_DID UP_INTERVAL_DID7,139
#define UP_INTERVAL_OPERATION1 UP_INTERVAL_OPERATION18,169
#define UP_INTERVAL_OPERATION2 UP_INTERVAL_OPERATION29,205
#define UP_INTERVAL_LENGTH UP_INTERVAL_LENGTH10,241
#define UP_INTERVAL_DATA01 UP_INTERVAL_DATA0111,273
#define UP_INTERVAL_DATA02 UP_INTERVAL_DATA0212,305
#define UP_INTERVAL_DATA03 UP_INTERVAL_DATA0313,337
#define UP_INTERVAL_DATA04 UP_INTERVAL_DATA0414,369
#define UP_INTERVAL_DATA05 UP_INTERVAL_DATA0515,401
#define UP_INTERVAL_DATA06 UP_INTERVAL_DATA0616,433
#define UP_INTERVAL_DATA07 UP_INTERVAL_DATA0717,465
#define UP_INTERVAL_DATA08 UP_INTERVAL_DATA0818,497
#define UP_INTERVAL_DATA09 UP_INTERVAL_DATA0919,529
#define UP_INTERVAL_DATA10 UP_INTERVAL_DATA1020,561
#define UP_INTERVAL_DATA11 UP_INTERVAL_DATA1121,593
#define UP_INTERVAL_DATA12 UP_INTERVAL_DATA1222,625
#define UP_INTERVAL_DATA13 UP_INTERVAL_DATA1323,657
#define UP_INTERVAL_TRAILER_ UP_INTERVAL_TRAILER_24,689
#define UP_INTERVAL_TRAILER(UP_INTERVAL_TRAILER25,723

include/log.h,185
#define __LOG_H____LOG_H__2,18
const int LOG_RAW = 1;LOG_RAW12,158
const int LOG_ERR = 2;LOG_ERR13,181
const int LOG_MSG = 3;LOG_MSG14,204
const int LOG_DBG = 4;LOG_DBG15,227

src/param.cpp,3054
CParam::CParam()CParam6,75
CParam* CParam::GetInstance()GetInstance9,96
void CParam::setOnSampleInterval(int interval)setOnSampleInterval16,232
void CParam::setOffSampleInterval(int interval)setOffSampleInterval21,329
void CParam::setOffLatency(int latency)setOffLatency26,428
void CParam::setDepolInterval(int interval)setDepolInterval31,511
void CParam::setPolInterval(int interval)setPolInterval36,602
void CParam::setAsynInterval(int interval)setAsynInterval41,689
void CParam::setAssiInterval(int interval)setAssiInterval46,778
void CParam::setStabCount(int count)setStabCount51,867
void CParam::setStabErr(int err)setStabErr56,945
void CParam::setTiggThreshold(int threshold)setTiggThreshold61,1014
void CParam::setOnMeasureOpt(int opt)setOnMeasureOpt66,1107
void CParam::setOffMeasureOpt(int opt)setOffMeasureOpt71,1186
void CParam::setRangeOpt(int opt)setRangeOpt76,1267
int CParam::getOnSampleInterval()getOnSampleInterval81,1338
int CParam::getOffSampleInterval()getOffSampleInterval86,1418
int CParam::getOffLatency()getOffLatency91,1500
int CParam::getDepolInterval()getDepolInterval96,1568
int CParam::getPolInterval()getPolInterval101,1642
int CParam::getAsynInterval()getAsynInterval106,1712
int CParam::getAssiInterval()getAssiInterval111,1784
int CParam::getStabCount()getStabCount116,1856
int CParam::getStabErr()getStabErr121,1922
int CParam::getTiggThreshold()getTiggThreshold126,1984
int CParam::getOnMeasureOpt()getOnMeasureOpt131,2058
int CParam::getOffMeasureOpt()getOffMeasureOpt136,2130
int CParam::getRangeOpt()getRangeOpt141,2204
void CParam::setDcPotentialK(float K)setDcPotentialK146,2268
void CParam::setDcPotentialB(float B)setDcPotentialB151,2345
void CParam::setAcPotentialK(float K)setAcPotentialK156,2422
void CParam::setAcPotentialB(float B)setAcPotentialB161,2499
void CParam::setAcHiCurrentK(float K)setAcHiCurrentK166,2576
void CParam::setAcHiCurrentB(float B)setAcHiCurrentB171,2653
void CParam::setDcHiCurrentK(float K)setDcHiCurrentK176,2730
void CParam::setDcHiCurrentB(float B)setDcHiCurrentB181,2807
void CParam::setAcLoCurrentK(float K)setAcLoCurrentK186,2884
void CParam::setAcLoCurrentB(float B)setAcLoCurrentB191,2961
void CParam::setDcLoCurrentK(float K)setDcLoCurrentK196,3038
void CParam::setDcLoCurrentB(float B)setDcLoCurrentB201,3115
float CParam::getDcPotentialK()getDcPotentialK206,3192
float CParam::getDcPotentialB()getDcPotentialB210,3259
float CParam::getAcPotentialK()getAcPotentialK215,3327
float CParam::getAcPotentialB()getAcPotentialB220,3395
float CParam::getAcHiCurrentK()getAcHiCurrentK225,3463
float CParam::getAcHiCurrentB()getAcHiCurrentB230,3531
float CParam::getDcHiCurrentK()getDcHiCurrentK234,3598
float CParam::getDcHiCurrentB()getDcHiCurrentB239,3666
float CParam::getAcLoCurrentK()getAcLoCurrentK243,3733
float CParam::getAcLoCurrentB()getAcLoCurrentB247,3800
float CParam::getDcLoCurrentK()getDcLoCurrentK251,3867
float CParam::getDcLoCurrentB()getDcLoCurrentB256,3935

src/protocolUse.cpp,1284
void protocolUse :: InitTheProtocolModule( DBController theDBCIn )InitTheProtocolModule22,406
void protocolUse :: getString( string information )getString28,549
bool protocolUse :: checkIntervalReady()checkIntervalReady35,712
int protocolUse :: EventHandler(string information)EventHandler43,954
void protocolUse :: ProtocolOperate(string  information)ProtocolOperate104,2729
int protocolUse :: handleLogin(string info)handleLogin162,5033
int protocolUse :: handleExit(string info)handleExit186,5685
int protocolUse :: handleDownInterval(string info)handleDownInterval209,6333
string protocolUse :: getStrDownInterval()getStrDownInterval347,11152
int protocolUse :: handleUpInterval(string info)handleUpInterval354,11296
int protocolUse :: handleUpParam(string info)handleUpParam451,15465
int protocolUse :: handleOnData(string info)handleOnData545,19201
int protocolUse :: handleOffData(string info)handleOffData750,27935
int protocolUse :: handleAssistData(string info)handleAssistData929,34830
int ToIntConvert(string theString)ToIntConvert1051,39417
string ToStringConvert(string theString)ToStringConvert1061,39564
float ToFloatConvert(string theString, double prec)ToFloatConvert1075,39891
string CtoString(const char * c)CtoString1110,40781

src/jsonreader.cpp,0

src/operate.cpp,424
socketController theSocketC;theSocketC12,194
protocolUse theprotocolUseC;theprotocolUseC13,223
int client_fd=0;client_fd15,253
pthread_t tid;tid16,270
sockaddr_in client_addr;client_addr17,285
socklen_t socklen = sizeof(client_addr);socklen18,310
unsigned client_port=0;client_port19,351
char client_ip[20];client_ip20,375
void *run(void *arg)run23,397
void server()server51,1178
int main()main72,1705

src/log.cpp,120
void LogUp(char * file)LogUp11,176
void LogDown()LogDown18,258
void LOG(int type, string theinformation)LOG25,354

start.sh,0
